{%  extends "base.html" %}

{% block title %}
    Result Page
{% endblock %}

{% block content %}

<style>
  .scrolling-container {
    overflow-x: scroll;
  }
</style>

    <table class="table w-35">
        <thead>
          <tr>
            <th scope="col">Feeback</th>
            <th scope="col">Ratings</th>
          </tr>
        </thead>

        <tbody>
          <div class='scrolling-container' id="autoscrollContainer">
            {% if stars is not none %}
              {% for feedbacks, stars_data in zip(names_with_stars, stars) %}
                  <tr>
                      <td>{{ feedbacks.feedback }}</td>
                      <td>
                          {% for score in stars_data %}
                              <li>
                                  Score: {{ score }} - Stars: 
                                  {% set stars_count = score_to_stars(score) %}
                                  {{ '‚≠ê' * stars_count }}
                              </li>
                          {% endfor %}
                      </td>
                  </tr>
              {% endfor %}
          {% endif %} 
            </div>
        </tbody>
      </table>
    
<<script>
  const scrollSpeed = 50;

  const scrollingContainer = document.getElementById('autoscrollContainer');

  const originalContent = scrollingContainer.innerHTML;
  scrollingContainer.innerHTML += originalContent;

  function autoScroll() {
    if (scrollingContainer.scrollTop < scrollingContainer.scrollHeight / 2) {
      scrollingContainer.scrollTop += 1;
    } else {
      scrollingContainer.scrollTop = 0;
    }
  }

  setInterval(autoScroll, scrollSpeed);  
</script>

{% endblock %}
